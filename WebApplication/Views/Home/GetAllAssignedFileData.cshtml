﻿@using WebApplication.Controllers
@using WebApplication.ResponseModel
@using WebApplication.Services
@model IEnumerable<WebApplication.ResponseModel.FileDataDownloadResponseModel>

@{
    ViewBag.Title = "GetAllAssignedFileData";
    Layout = "~/Views/Shared/_Layout.cshtml";
    @Styles.Render("~/Content/GetAllAssignedFileData.css")
    
    HomeService homeService = new HomeService();
}

@if (Model != null && Model.GetEnumerator().MoveNext())
{
    
    <button id="btn1" class="btn1">Press me</button>
    <label id="txt1">text</label>
    <style>
        .txt1{font-size: 20px;
              transition: 0.5s;
              opacity: 1;
              }
        .txt2{font-size: 20px;
              transition: 0.5s;
              opacity: 0;
              }
              
            
    </style>
    <h1>All files that assigned to you</h1>
    
        foreach (var item in Model)
        {
            <div class="files">
            <div class="left">
                @switch (@item.FileType)
                            {
                                case FileType.Image:
                                    <img alt="Embedded Image" width="64" height="64" class="img-circle" src="data:image;base64,@Convert.ToBase64String(item.File)"/>
                                    break;
                                default:
                                    <img alt="Embedded Image" width="64" height="64" class="img-circle" src="data:image;base64,@homeService.GetGenericIconByFileType(@item.FileType)"/>
                                    break;
                            }
                            <div class="options">
                                @Html.ActionLink("Show Message |", "ShowSecretMessage", "Home", @item, null)
                                @Html.ActionLink("Download |", "DownloadFileData", "Home", new {fileId = item.Id, fileName = item.FileName}, null)
                                @Html.ActionLink("Delete", "DeleteFileData", "Home", new {fileId = item.Id, fileName = item.FileName}, null)
                            </div>
            </div>
            
                <div class="right">
                    <p>Secert message</p>
                </div>
                </div>
        }
  
}
else
{
    <h1>You have no files shared</h1>
}
    